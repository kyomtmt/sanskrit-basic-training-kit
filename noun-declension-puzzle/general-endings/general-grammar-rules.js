// general-grammar-rules.js (中性名詞用ルール追加・修正版)

const generalGrammarRuleExplanations = {
    // ----- 提示された画像のルールテキストに基づくもの -----
    "rule1_s_drop_consonant": {
        title: "規則(1): N.sg.m/f の -s 脱落 (子音語幹)",
        text: "男性・女性名詞の単数主格の語尾 '-s' は、子音で終わる語幹の場合、その -s が脱落します。 (例: 語幹 marut → 主格単数 marut)"
    },
    "rule2_s_to_h_final": {
        title: "規則(2): 語末の -s の -ḥ 化",
        text: "語尾などに含まれる '-s' は、単語の絶対的な末尾 (pausa) に来ると -ḥ (ヴィサルガ) に変化します。 (例: deva + as → devaḥ)"
    },
    "rule3_voc_equals_nom": {
        title: "規則(3): 呼格(V.)の一致",
        text: "呼格は、両数(du.)および複数(pl.)では常に主格(N.)と一致します。単数(sg.)でもしばしば主格と関連する形を取ります。中性語(n.)では、a語幹を除き、常に呼格単数=主格単数です。"
    },
    "rule4_n_nom_voc_acc_equal": { // ★追加 (または既存のコメントアウトを解除・修正)
        title: "規則(4): 中性語(n.)の N.Ac.V. 同形",
        text: "中性語においては、常に主格(N.)、対格(Ac.)、呼格(V.)は同じ形を取ります（ただし、a語幹の単数呼格は例外的に語幹のままになることもあります）。"
    },
    "rule4_n_sg_no_ending": { // ★追加 (または既存のコメントアウトを解除・修正)
        title: "規則(4): 中性語(n.)単数の無語尾",
        text: "中性語の単数（主格・対格・呼格）は、a語幹を除き、特定の語尾を持たず、語幹のままの形を取ります。これが表中の「―」で示されることがあります。"
    },
    "rule5_ab_g_sg_equal": {
        title: "規則(5): Ab.sg = G.sg",
        text: "奪格単数(Ab.sg.)と属格単数(G.sg.)は、a語幹を除き、同じ形 (-as) になります。"
    },
    "rule5_d_ab_pl_equal": {
        title: "規則(5): D.pl = Ab.pl",
        text: "与格複数(D.pl.)と奪格複数(Ab.pl.)は同じ形 (-bhyas) になります。"
    },
    "rule5_du_three_forms": {
        title: "規則(5): 両数の3形態",
        text: "両数(du.)は、性に関わらず常に3つの語尾パターンのみ持ちます: <br>1. 主格(N.)=対格(Ac.)=呼格(V.) <br>2. 具格(I.)=与格(D.)=奪格(Ab.) <br>3. 属格(G.)=処格(L.)"
    },
    "rule6_nasal_insertion_n_pl": { // ★追加 (または既存のコメントアウトを解除・修正)
        title: "規則(6): 中性複数(N.Ac.V.)での鼻音挿入",
        text: "鼻音・半母音以外の子音で終わる語幹は、中性の主格・対格・呼格の複数において、その子音の前に対応する鼻音 (例: n, m) を挿入することがあります。 (例: harit → harinti のように、語尾 -i の前に n が挿入される場合など。ただし、このパズルの基本語尾 -i 自体には鼻音は含まれません。)"
    },
    "rule7_pada_endings": {
        title: "規則(7): pada語尾",
        text: "-bhyām, -bhis, -bhyas, -su は「pada語尾」と呼ばれます。これらの語尾の前では、語幹が特定の方法で変化したり、特定のサンディが適用されたりすることがあります。"
    },

    // ----- 基本的な語尾に関する説明 (既存のものを確認・調整) -----
    "ending_s": { title: "語尾: -s", text: "主に男性/女性名詞の単数主格や、複数主格/対格の基本的な形です。子音語幹の単数主格では脱落し、語末では多くの場合 -ḥ に変化します。" },
    "ending_am": { title: "語尾: -am", text: "男性/女性名詞の単数対格の一般的な語尾です。a語幹中性名詞の単数主格・対格でも使われます。" }, // ★中性の言及追加
    "ending_aa_long": { title: "語尾: -ā", text: "男性/女性/中性名詞の単数具格の一般的な語尾です。" },
    "ending_e_short": { title: "語尾: -e", text: "男性/女性/中性名詞の単数与格の一般的な語尾です。" },
    "ending_as": { title: "語尾: -as", text: "男性/女性名詞の単数奪格・属格、および複数主格・対格・呼格の基本的な形です。中性名詞でも単数奪格・属格で使われます。語末では多くの場合 -aḥ に変化します。" }, // ★中性の言及追加
    "ending_i_short": { title: "語尾: -i (単数処格用)", text: "男性/女性/中性名詞の単数処格で一般的に使われる語尾です。" }, // ★用途を明確化
    "ending_au": { title: "語尾: -au", text: "男性/女性名詞の両数主格・対格・呼格の一般的な語尾です。" },
    "ending_bhyam": { title: "語尾: -bhyām", text: "全ての性の両数具格・与格・奪格の共通語尾です。pada語尾の一つです。" },
    "ending_os": { title: "語尾: -os", text: "全ての性の両数属格・処格の共通語尾です。語末では多くの場合 -oḥ に変化します。" },
    "ending_bhis": { title: "語尾: -bhis", text: "全ての性の複数具格の語尾です。pada語尾の一つで、語末では多くの場合 -bhiḥ に変化します。" },
    "ending_bhyas": { title: "語尾: -bhyas", text: "全ての性の複数与格・奪格の共通語尾です。pada語尾の一つで、語末では多くの場合 -bhyaḥ に変化します。" },
    "ending_aam_long": { title: "語尾: -ām", text: "全ての性の複数属格の一般的な語尾です。" },
    "ending_su": { title: "語尾: -su", text: "全ての性の複数処格の一般的な語尾です。pada語尾の一つです。" },

    // ★★★ 中性名詞に特有の語尾解説 ★★★
    "ending_ii_long": { // ★追加
        title: "語尾: -ī (中性両数 N.Ac.V.)",
        text: "中性名詞の両数・主格、対格、呼格で一般的に使われる語尾です (例: vāriṇī)。"
    },
    "ending_i_short_n_pl": { // ★追加
        title: "語尾: -i (中性複数 N.Ac.V.)",
        text: "中性名詞の複数・主格、対格、呼格で一般的に使われる語尾です (例: vārīṇi)。男性/女性の単数処格の-iとは区別されます。"
    },

    // ----- 呼格単数 (男性・女性) の詳細解説 -----
    "voc_sg_combined_explanation_mf": { /* ... (既存のまま) ... */ },

    // ----- ★★★ 中性単数 主格/対格/呼格の詳細解説 ★★★ -----
    "n_sg_nav_details": { // ★追加
        title: "解説: 中性 単数 主格/対格/呼格 (語幹のみ)",
        text: "中性名詞の単数・主格(N.)、対格(Ac.)、呼格(V.)は、多くの場合同じ形を取り、「語幹のみ」つまり特定の語尾が付かない形になります。これが表中の「―」で示されています。<br>" +
              "例: `jagat` (世界、子音語幹) → N.Ac.V.sg. `jagat`<br>" +
              "例: `vāri` (水、i語幹) → N.Ac.V.sg. `vāri`<br>" +
              "ただし、**a語幹の中性名詞** (例: `phala`「果物」) は例外で、単数主格・対格では `-am` という語尾を取ります (例: `phalam`)。単数呼格は `phala` と語幹のままになることが多いです。このパズルではa語幹以外のパターンを「語幹のみ」として扱います。"
    },

    // ----- その他の補助的な解説 -----
    "equals_nominative": { /* ... (既存のまま) ... */ },
    "no_ending_stem_only": { /* ... (既存のまま、n_sg_nav_details で具体的に説明) ... */ }
};
